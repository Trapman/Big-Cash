#basic structure for making a TCP socket connection:

import socket 

mysock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
mysock.connect(('data.pr4e.org', 80))    #just enter a website, followed by a port (usually 80)

'''different ports:
email = 25
login = 23
web server = 80
web server (secured) = 443
personal email = 109 or 110'''


#writing an HTTP request in Python:

import socket 

mysock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
mysock.connect(('data.pr4e.org', 80))    #just enter a website, followed by a port (usually 80)

cmd = 'GET http://data.pr4e.org/romeo.txt HTTP:/1.0\n\n'.encode()
mysock.send(cmd)

while True:
    data = mysock.recv(512)
    if(len(data)<1):
        break
    print(data.decode())
mysock.close()

#another ex:

import socket

mysock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
mysock.connect(('data.pr4e.org', 80))
cmd = 'GET http://data.pr4e.org/intro-short.txt HTTP/1.0\r\n\r\n'.encode()
mysock.send(cmd)

while True:
    data = mysock.recv(512)
    if (len(data) < 1):
        break
    print(data.decode(), end='')
mysock.close()


#BeautifulSoup Parsing Webpages:
import urllib.request, urllib.parse, urllib.error
from bs4 import BeautifulSoup

url = input('Enter -  ')
html = urllib.request.urlopen(url).read()
soup = BeautifulSoup(html, 'html.parser')

tags = soup('a')
for tag in tags:
    print(tag.get('href', None))
    
#note that url must be entered in the format of https://www.binance.com
